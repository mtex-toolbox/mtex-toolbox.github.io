<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">


<title>Crystal Shapes | MTEX</title>

<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">

<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="css/theme-mtex.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<!-- Favicons -->
<link rel="apple-touch-icon" type="image/png" sizes="100x100" href="images/favicons/favicon.png">
<link rel="icon" type="image/png" sizes="100x100" href="images/favicons/favicon.png">
<link rel="manifest" href="images/favicons/manifest.json">
<meta name="msapplication-TileColor" content="#149983">
<meta name="msapplication-TileImage" size="100x100" type="image/png" content="images/favicons/favicon.png">
<meta name="theme-color" content="#149983">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

<!-- enable MathJax
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          inlineMath: [['$','$']]
      }
  });
</script>-->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand" href="index"><img src="images/icons/MTEX_100x67px.png"></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <br><br>
            <ul class="nav navbar-nav navbar-right">

                <!-- topnav -->
                
                
                    
                        
                        
                            <li><a href="index">Home</a></li>
                        
                    
                        
                        
                            <li><a href="download">Download</a></li>
                        
                    
                        
                        
                            <li><a href="Documentation">Documentation</a></li>
                        
                    
                        
                        
                            <li><a href="function_reference">Function Reference</a></li>
                        
                    
                        
                        
                            <li><a href="examples">Examples</a></li>
                        
                    
                        
                        
                            <li><a href="workshop24">Workshops</a></li>
                        
                    
                        
                        
                            <li><a href="people">People</a></li>
                        
                    
                        
                        
                            <li><a href="search"><i class="fa fa-search"></i></a></li>
                        
                    
                

                
            </ul>
        </div>
    </div>
    <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Topics </li>
  
  
  
  <li>
      <a class="no_icon" href="#">Tutorials</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="EBSDTutorial.html">EBSD</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainTutorial.html">Grains</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureTutorial.html">Pole Figure Data</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFTutorial.html">ODFs</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ImportFromVPSC.html">Import from VPSC</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">General Concepts</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="MTEXScripts.html">MTEX Scripts</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ListsAndIndexing.html">Lists and Indexing</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GeneralConceptsConfiguration.html">Configuration</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GeneralConceptsOptions.html">Options</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Properties.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OptimalKernel.html">Optimal Kernel Selection</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ClusterDemo.html">Cluster demo</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Vectors</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="VectorsDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsDensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorsAxes.html">Axes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VectorGrids.html">Spherical Grids</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Rotations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="RotationDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationImproper.html">Improper Rotations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationPlotting.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationFibre.html">Fibres</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RotationSpinTensor.html">Spin Tensor</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Crystal Geometry</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="CrystalSymmetries.html">Crystal Symmetries</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalDirections.html">Miller Indicies</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalReferenceSystem.html">Reference System</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SymmetryAlignment.html">Crystal Axes Alignment</a></li>
          
          
          
          
          
          
          <li class="active"><a class="no_icon" href="CrystalShapes.html">Crystal Shapes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CrystalShapeSmorf.html">Advanced Crystal Shapes</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FundamentalSector.html">Fundamental Sector</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="QuasiCrystals.html">Quasi Symmetries</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Orientations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="OrientationDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DefinitionAsCoordinateTransform.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationSymmetry.html">Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationStandard.html">Standard Orientations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MTEXvsBungeConvention.html">MTEX vs. Bunge Convention</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationPoleFigure.html">Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationInversePoleFigure.html">Inverse Pole Figure</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationVisualization3d.html">3D Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationVisualizationSections.html">Section Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationFundamentalRegion.html">Fundamenal Region</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SpecimenSymmetry.html">Specimen Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationGrid.html">Grids</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationFibre.html">Fibres</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="OrientationEmbeddings.html">Embeddings</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Misorientations</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="MisorientationTheory.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Twinning.html">Twinning</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MisorientationDistributionFunction.html">Misorientation Distribution Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AxisDistributionFunction.html">Axis Distribution Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AngleDistributionFunction.html">Angle Distribution Function</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">ODF</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="ODFTheory.html">Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFModeling.html">Calculations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPlot.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPoleFigure.html">Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFInversePoleFigure.html">Inverse Pole Figures</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EulerAngleSections.html">Euler Angle Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SigmaSections.html">Sigma Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFComponents.html">Components</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFCharacteristics.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RadialODFs.html">Radial ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FibreODFs.html">Fibre ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BinghamODFs.html">Bingham ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunHarmonicRepresentation.html">Series Expansion</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RandomSampling.html">Random Sampling</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DensityEstimation.html">Density Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="DetectionOfSampleSymmetry.html">Sample Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFShapes.html">Shapes</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Pole Figures</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="PoleFigureImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigurePlot.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureCorrection.html">Modify</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODF.html">ODF Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureSimulation.html">Simulation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODFAmbiguity.html">The Gost Effect</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigure2ODFGhostCorrection.html">Ghost Correction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureSantaFe.html">Santa Fe Example</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureDubna.html">Dubna Example</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PoleFigureExport.html">Export</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">EBSD</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="EBSDImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDReferenceFrame.html">Reference Frame</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDPlotting.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDIPFMap.html">IPF Maps</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationPlots.html">Orientation Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSelect.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDIndex.html">Select by Index</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationAnalysis.html">Orientation Analysis</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainReconstruction.html">Grain Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDGrid.html">Square and Hex Grids</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDDenoising.html">Denoising</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDFilling.html">Filling Missing Data</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDInter.html">Regridding and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSD2ODF.html">ODF Estimation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDOrientationPlots.html">Orientation Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSharpPlot.html">Sharp Color Keys</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDAdvancedMaps.html">Advanced Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDKAM.html">KAM</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDGROD.html">Mis2Mean / GROD</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDProfile.html">Profiles</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDSimulation.html">Simulation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EBSDExport.html">Export</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Grains</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="GrainReconstruction.html">Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainSpatialPlots.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SelectingGrains.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ShapeParameters.html">Shape Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EllipseBasedParameters.html">Ellipse Fitting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="HullBasedParameters.html">Convex Hull Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ProjectionBasedParameters.html">Projection Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainOrientationParameters.html">Orientation Parameters</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainNeighbours.html">Neighbours</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainMerge.html">Merge</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainReconstructionAdvanced.html">Advanced Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="NeperInterface.html">Neper Interface</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Grain Boundaries</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="BoundarySelect.html">Select</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryPlots.html">Plot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryProperties.html">Properties</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SubGrainBoundaries.html">Subgrain Boundaries</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TiltAndTwistBoundaries.html">Twist and Tilt</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CSLBoundaries.html">CSL</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryCurvature.html">Curvature</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainSmoothing.html">Smoothing</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TwinningBoundaries.html">Twinning</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TriplePoints.html">Triple Points</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryIntersections.html">Intersections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BoundaryNormalDistribution.html">Distribution</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Tensors</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="TensorDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorArithmetics.html">Arithmethics</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorVisualisation.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TensorAverage.html">Averages</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PiezoElectricity.html">Piezo Electricity</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BirefringenceDemo.html">Birefringence</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MagneticAnisotropy.html">Magnetic Anisotropy</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Elasticity</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="IsotropicTheory.html">Isotropic Theory</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AnisotropicTheory.html">Anisotropic Elasticity</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="WaveVelocities.html">Wave Velocities</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CPOSeismicProperties.html">Plot seismic wave velocities and polarization directions for aggregates</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Plasticity</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="SlipSystems.html">Slip Systems</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SchmidtFactor.html">The Schmid Factor</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorModel.html">Taylor Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorHex.html">Texture evolution in rolled magnesium during uniaxial tension</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SachsModel.html">Sachs Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SingleSlipModel.html">Sigle Slip Model</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SlipTransmission.html">Slip Transmission</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GND.html">Geometrically Necessary Dislocations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="VPSCImport.html">Import from VPSC</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TextureEvolution.html">Texture Evolution</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TaylorHex.html">Texture evolution in rolled magnesium during uniaxial tension</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Phase Transitions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="ParentChildVariants.html">Parent Child Variants</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MartensiteVariants.html">Martensite Variants</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TiBetaReconstruction.html">Parent Beta Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MaParentGrainReconstruction.html">Parent Austenite Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TransformationTexture.html">Transformation Texture</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="GrainGraphBasedReconstruction.html">Grain Graph Based Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TriplePointBasedReconstruction.html">Triple Point Based Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="LowLevelParentGrainReconstruction.html">Low Level Reconstruction</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="MaParentGrainReconstructionAdvanced.html">Low Level Reconstruction 2</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Spherical Functions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="S2FunConcept.html">Concept</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunPlotting.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunApproximationInterpolation.html">Approximation and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunHarmonicRepresentation.html">Harmonic Representation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunBingham.html">Bingham Distribution</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunRadon.html">Radon Transform</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunVectorField.html">Vector Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunAxisField.html">Axis Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunSym.html">Symmetric Function</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2FunMultivariate.html">Multivariate Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="S2Kernels.html">Spherical Kernel Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SphericalHarmonics.html">Spherical Harmonics</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Orientation Functions</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="SO3FunConcept.html">Concept</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunDefinition.html">Definition</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunOperations.html">Operations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFPlot.html">Plotting</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="EulerAngleSections.html">Euler Angle Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SigmaSections.html">Sigma Sections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunApproximationInterpolation.html">Approximation and Interpolation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunHarmonicRepresentation.html">Harmonic Representation</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="RadialODFs.html">Radial Basis Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="FibreODFs.html">Fibre Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="BinghamODFs.html">Bingham ODF</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFImport.html">Import</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ODFExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunVectorField.html">Vector Field</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunSymmetricFunctions.html">Symmetry</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3FunMultivariate.html">Multivariate Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SO3Kernels.html">Rotational Kernel Functions</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="WignerFunctions.html">Wigner-D Functions</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a class="no_icon" href="#">Plotting</a>
      <ul>
          
          
          
          <li><a class="no_icon" href="PlotTypes.html">Plot Types</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="AxesAlignment.html">Axes Alignment</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="CombinedPlots.html">Combined Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Multiplot.html">Multiplot</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Annotations.html">Annotations</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="PlottingExport.html">Export</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="SphericalProjections.html">Spherical Projections</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="Legends.html">Legends</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ColorMaps.html">Color Mapping</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="ContourPlots.html">Contour Plots</a></li>
          
          
          
          
          
          
          <li><a class="no_icon" href="TransparencyDemo.html">Transparencys</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a class="no_icon" href="#" id="collapseAll">Collapse All</a> | <a class="no_icon" href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            
    <div class="post-header">
        <h1 class="post-title-main">Crystal Shapes</h1>
    </div>


<div class="post-content">

    

    


    

        <html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Crystal Shapes</title><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.source" content="script_CrystalShapes.m"></head><body><font size="2"><a href="https://github.com/mtex-toolbox/mtex/blob/develop/doc/CrystalGeometry/CrystalShapes.m">
    edit page</a></font><div><!--introduction--><!--/introduction--><p>Crystal Shapes are used to visualize crystal orientations, twinning or lattice planes.</p><h2 id="2">Simple crystal shapes</h2><p>In the case of cubic or hexagonal materials the corresponding crystal are often represented as cubes or hexagons, where the faces correspond to the lattice planes {100} in the cubic case and {1,0,-1,0},{0,0,0,1} in the hexagonal case. Such simple crystal shapes may be created in MTEX with the commands</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% import some hexagonal data</span>
<span class="n">mtexdata</span> <span class="n">titanium</span><span class="p">;</span>

<span class="c1">% define a simple hexagonal crystal shape</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="o">.</span><span class="n">hex</span><span class="p">(</span><span class="n">ebsd</span><span class="o">.</span><span class="n">CS</span><span class="p">)</span>

<span class="c1">% and plot it</span>
<span class="nb">close</span> <span class="nb">all</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">saving data to /home/hielscher/mtex/master/data/titanium.mat
 
ebsd = EBSD
 
 Phase  Orientations           Mineral         Color  Symmetry  Crystal reference frame
     0   8100 (100%)  Titanium (Alpha)  LightSkyBlue       622       X||a, Y||b*, Z||c*
 
 Properties: ci, grainid, iq, sem_signal, x, y
 Scan unit : um
 
 
cS = crystalShape
 mineral: Titanium (Alpha) (622, X||a, Y||b*, Z||c*)
 vertices: 12
 faces: 8</code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_01.png" alt="" />

</center><p>Internally, a crystal shape is represented as a list of faces which are bounded by a list of vertices</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">cS</span><span class="o">.</span><span class="n">V</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">ans = vector3d
 size: 12 x 1</code></pre></figure>
<h2 id="4">Calculating with crystal shapes</h2><p>Crystal shapes are defined in crystal coordinates. Thus applying an orientation rotates them into specimen coordinates. This functionality can be used to visualize crystal orientations in EBSD maps</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% plot an EBSD map</span>
<span class="nb">clf</span> <span class="c1">% clear current figure</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">ebsd</span><span class="p">,</span><span class="n">ebsd</span><span class="o">.</span><span class="n">orientations</span><span class="p">)</span>

<span class="nb">hold</span> <span class="n">on</span>
<span class="n">scaling</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">% scale the crystal shape to have a nice size</span>

<span class="c1">% plot at position (500,500) the orientatation of the corresponding crystal</span>
<span class="nb">plot</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span> <span class="n">ebsd</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span><span class="o">.</span><span class="n">orientations</span> <span class="o">*</span> <span class="n">cS</span> <span class="o">*</span> <span class="n">scaling</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_02.png" alt="" />

</center><p>As we have seen in the previous section we can apply several operations on crystal shapes. These include</p><div><ul><li><code class="language-plaintext highlighter-rouge">factor * cS</code> scales the crystal shape in size</li><li><code class="language-plaintext highlighter-rouge">ori * cS</code> rotates the crystal shape in the defined orientation</li><li><code class="language-plaintext highlighter-rouge">[xy] + cS</code> or <code class="language-plaintext highlighter-rouge">[xyz] + cS</code> shifts the crystal shape in the specified positions</li></ul></div><p>At this point it comes into help that MTEX supports lists of crystal shapes, i.e., whenever one of the operations listed above includes a list (e.g. a list of orientations) the multiplication will yield a list of crystal shapes. Lets illustrate this</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% compute some grains</span>
<span class="n">grains</span> <span class="o">=</span> <span class="n">calcGrains</span><span class="p">(</span><span class="n">ebsd</span><span class="p">);</span>
<span class="n">grains</span> <span class="o">=</span> <span class="n">smooth</span><span class="p">(</span><span class="n">grains</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>

<span class="c1">% and plot them</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">,</span><span class="n">grains</span><span class="o">.</span><span class="n">meanOrientation</span><span class="p">)</span>

<span class="c1">% find the big ones</span>
<span class="n">isBig</span> <span class="o">=</span> <span class="n">grains</span><span class="o">.</span><span class="n">grainSize</span><span class="o">&gt;</span><span class="mi">50</span><span class="p">;</span>

<span class="c1">% define a list of crystal shape that is oriented as the grain mean</span>
<span class="c1">% orientation and scaled according to the grain area</span>
<span class="n">cSGrains</span> <span class="o">=</span> <span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="n">meanOrientation</span> <span class="o">*</span> <span class="n">cS</span> <span class="o">*</span> <span class="mf">0.7</span> <span class="o">*</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="nb">area</span><span class="p">);</span>

<span class="c1">% now we can plot these crystal shapes at the grain centers</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="nb">centroid</span> <span class="o">+</span> <span class="n">cSGrains</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_03.png" alt="" />

</center><h2 id="6">Plotting crystal shapes</h2><p>The above can be accomplished a bit more directly and a bit more nice with</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% plot a grain map</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">,</span><span class="n">grains</span><span class="o">.</span><span class="n">meanOrientation</span><span class="p">)</span>

<span class="c1">% and on top for each large grain a crystal shape</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">),</span><span class="mf">0.7</span><span class="o">*</span><span class="n">cS</span><span class="p">,</span><span class="s1">'FaceColor'</span><span class="p">,</span><span class="s1">'none'</span><span class="p">,</span><span class="s1">'linewidth'</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_04.png" alt="" />

</center><p>In the same waywe may visualize grain orientations and grains size within pole figures</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">plotPDF</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="n">meanOrientation</span><span class="p">,</span><span class="n">Miller</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">ebsd</span><span class="o">.</span><span class="n">CS</span><span class="p">),</span><span class="s1">'contour'</span><span class="p">)</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="n">meanOrientation</span><span class="p">,</span><span class="mf">0.002</span><span class="o">*</span><span class="n">cSGrains</span><span class="p">,</span><span class="s1">'add2all'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_05.png" alt="" />

</center><p>or even within ODF sections</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% compute the odf</span>
<span class="n">odf</span> <span class="o">=</span> <span class="n">calcDensity</span><span class="p">(</span><span class="n">ebsd</span><span class="o">.</span><span class="n">orientations</span><span class="p">);</span>

<span class="c1">% plot the odf in sigma sections</span>
<span class="n">plotSection</span><span class="p">(</span><span class="n">odf</span><span class="p">,</span><span class="s1">'sigma'</span><span class="p">,</span><span class="s1">'contour'</span><span class="p">)</span>

<span class="c1">% and on top of it the crystal shapes</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">grains</span><span class="p">(</span><span class="n">isBig</span><span class="p">)</span><span class="o">.</span><span class="n">meanOrientation</span><span class="p">,</span><span class="mf">0.002</span><span class="o">*</span><span class="n">cSGrains</span><span class="p">,</span><span class="s1">'add2all'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_06.png" alt="" />

</center><h2 id="9">Twinning relationships</h2><p>We may also you crystal shapes to illustrate twinning relation ships</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% define some twinning misorientation</span>
<span class="n">mori</span> <span class="o">=</span> <span class="n">orientation</span><span class="o">.</span><span class="n">byAxisAngle</span><span class="p">(</span><span class="n">Miller</span><span class="p">({</span><span class="mi">1</span> <span class="mi">0</span><span class="o">-</span><span class="mi">1</span> <span class="mi">0</span><span class="p">},</span><span class="n">ebsd</span><span class="o">.</span><span class="n">CS</span><span class="p">),</span><span class="mf">34.9</span><span class="o">*</span><span class="nb">degree</span><span class="p">)</span>

<span class="c1">% plot the crystal in ideal orientation</span>
<span class="nb">close</span> <span class="nb">all</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'FaceAlpha'</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">% and on top of it in twinning orientation</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">mori</span> <span class="o">*</span> <span class="n">cS</span> <span class="o">*</span><span class="mf">0.9</span><span class="p">,</span><span class="s1">'FaceColor'</span><span class="p">,</span><span class="s1">'orange'</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span>
<span class="nb">view</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">mori = misorientation (Titanium (Alpha)  Titanium (Alpha))
 
  Bunge Euler angles in degree
  phi1  Phi phi2
   330 34.9   30</code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_07.png" alt="" />

</center><h2 id="10">Defining complicated crystal shapes</h2><p>For symmetries other then hexagonal or cubic one would like to have more complicated crystal shape representing the true appearance. To this end one has to include more faces into the representation and carefuly adjust their distance to the origin.</p><p>Lets consider a quartz crystal.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">cs</span> <span class="o">=</span> <span class="n">loadCIF</span><span class="p">(</span><span class="s1">'quartz'</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">cs = crystalSymmetry
 
  mineral        : Quartz            
  symmetry       : 321               
  elements       : 6                 
  a, b, c        : 4.9, 4.9, 5.4     
  reference frame: X||a*, Y||b, Z||c*</code></pre></figure>
<p>Its shape is mainly bounded by the following faces</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">m</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span>  <span class="c1">% hexagonal prism</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span>  <span class="c1">% positive rhomboedron, usally bigger then z</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span>  <span class="c1">% negative rhomboedron</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span><span class="c1">% left tridiagonal bipyramid</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span> <span class="c1">% right tridiagonal bipyramid</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span><span class="c1">% left positive Trapezohedron</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">Miller</span><span class="p">({</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span><span class="n">cs</span><span class="p">);</span> <span class="c1">% right positive Trapezohedron</span></code></pre></figure>
<p>If we take only the first three faces we end up with</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">z</span><span class="p">];</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>

<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">cS = crystalShape
 mineral: Quartz (321, X||a*, Y||b, Z||c*)
 vertices: 8
 faces: 18</code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_08.png" alt="" />

</center><p>i.e. we see only  the possitive and negative rhomboedrons, but the hexagonal prism are to far away from the origin to cut the shape. We may decrease the distance, by multiplying the coresponding normal with a factor larger then 1.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">z</span><span class="p">];</span>

<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_09.png" alt="" />

</center><p>Next in a typical Quartz crystal the negativ rhomboedron is a bit smaller then the positiv rhomboedron. Lets correct for this.</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% collect the face normal with the right scalling</span>
<span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mf">0.9</span><span class="o">*</span><span class="n">z</span><span class="p">];</span>

<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_10.png" alt="" />

</center><p>Finaly, we add the tridiagonal bipyramid and the positive Trapezohedron</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% collect the face normal with the right scalling</span>
<span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mf">0.9</span><span class="o">*</span><span class="n">z</span><span class="p">,</span><span class="mf">0.7</span><span class="o">*</span><span class="n">s1</span><span class="p">,</span><span class="mf">0.3</span><span class="o">*</span><span class="n">x1</span><span class="p">];</span>

<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_11.png" alt="" />

</center><h2 id="17">Marking crystal faces</h2><p>We may colorize the faces according to their lattice planes using the command</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_12.png" alt="" />

</center><p>or even label the faces directly</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span>
<span class="n">N</span> <span class="o">=</span> <span class="nb">unique</span><span class="p">(</span><span class="n">cS</span><span class="o">.</span><span class="n">N</span><span class="o">.</span><span class="n">symmetrise</span><span class="p">,</span><span class="s1">'noSymmetry'</span><span class="p">,</span><span class="s1">'stable'</span><span class="p">);</span>
<span class="n">fC</span> <span class="o">=</span> <span class="n">cS</span><span class="o">.</span><span class="n">faceCenter</span><span class="p">;</span>

<span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
  <span class="n">text3</span><span class="p">(</span><span class="n">fC</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="nb">char</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">N</span><span class="p">(</span><span class="n">i</span><span class="p">)),</span><span class="s1">'latex'</span><span class="p">),</span><span class="s1">'scaling'</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="s1">'interpreter'</span><span class="p">,</span><span class="s1">'latex'</span><span class="p">)</span>
<span class="k">end</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_13.png" alt="" />

</center><h2 id="19">Defining complicated crystals more simple</h2><p>We see that defining a complicated crystal shape is a tedious work. To this end MTEX allows to model the shape with a habitus and a extension parameter. This approach has been developed by J. Enderlein in <a href="https://library.wolfram.com/infocenter/Articles/3279">A package for displaying crystal morphology. Mathematica Journal, 7(1), 1997</a>. The two parameters are used to model the distance of a face from the origin. Setting all parameters to one we obtain</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% take the face normals unscaled</span>
<span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">s2</span><span class="p">,</span><span class="n">x2</span><span class="p">];</span>

<span class="n">habitus</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">extension</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">];</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">habitus</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_14.png" alt="" />

</center><p>The scale parameter models the inverse extension of the crystal in each dimension. In order to make the crystal a bit longer and the negative rhomboedrons smaller we could do</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">extension</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.9</span> <span class="mf">1.1</span> <span class="mi">1</span><span class="p">];</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">habitus</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_15.png" alt="" />

</center><p>Next the habitus parameter describes how close faces with mixed hkl are to the origin. If we increase the habitus parameter the trapezohedron and the bipyramid become more and more dominant</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">habitus</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">;</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">habitus</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">),</span> <span class="nb">snapnow</span>

<span class="n">habitus</span> <span class="o">=</span> <span class="mf">1.2</span><span class="p">;</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">habitus</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">),</span> <span class="nb">snapnow</span>

<span class="n">habitus</span> <span class="o">=</span> <span class="mf">1.3</span><span class="p">;</span>
<span class="n">cS</span> <span class="o">=</span> <span class="n">crystalShape</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">habitus</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_16.png" alt="" />

</center><center>
<img class="inline" src="images/CrystalShapes_17.png" alt="" />

</center><center>
<img class="inline" src="images/CrystalShapes_18.png" alt="" />

</center><h2 id="22">Select faces</h2><p>A specific face of the crystal shape may be selected by its normal vector</p>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">on</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">cS</span><span class="p">(</span><span class="n">Miller</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">cs</span><span class="p">)),</span><span class="s1">'FaceColor'</span><span class="p">,</span><span class="s1">'DarkRed'</span><span class="p">)</span>
<span class="nb">hold</span> <span class="n">off</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_19.png" alt="" />

</center><h2 id="23">Gallery of hardcoded crystal shapes</h2>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">crystalShape</span><span class="o">.</span><span class="n">olivine</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_20.png" alt="" />

</center>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">crystalShape</span><span class="o">.</span><span class="n">garnet</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_21.png" alt="" />

</center>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">crystalShape</span><span class="o">.</span><span class="n">topaz</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_22.png" alt="" />

</center>
<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="nb">plot</span><span class="p">(</span><span class="n">crystalShape</span><span class="o">.</span><span class="n">plagioclase</span><span class="p">,</span><span class="s1">'colored'</span><span class="p">)</span></code></pre></figure>
<center>
<img class="inline" src="images/CrystalShapes_23.png" alt="" />

</center></div></body></html>

    <div class="tags">
        
    </div>

    


</div>

<footer>
    <div class="row">
        <div class="col-lg-12 footer">
            <p>
                <img src="images/icons/MTEX_100x67px.png" alt="MTEX logo">
            </p>
        </div>
    </div>
</footer>

        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-83346204-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
